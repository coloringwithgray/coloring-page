<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Coloring with Gray</title>
  
  <!-- Google Font -->
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@700&display=swap"
  />
  
  <!-- Local stylesheet -->
  <link rel="stylesheet" href="styles.css" />

  <!-- Your script file, loaded with "defer" so it runs after the HTML is parsed -->
  <script src="script.js" defer></script>
</head>

<body>
  <div id="progress-indicator" aria-hidden="true">
    <svg viewBox="0 0 56 56">
      <circle class="progress-bg" cx="28" cy="28" r="24" />
      <circle class="progress-bar" cx="28" cy="28" r="24" stroke-dasharray="0 150" />
      <text class="progress-text" x="28" y="30">0%</text>
    </svg>
  </div>
  <div class="container">
    <!-- Canvas for drawing -->
    <canvas id="canvas" aria-label="Drawing canvas"></canvas>

    <!-- Crayon image (click to activate drawing) -->
    <img
      id="crayon"
      src="crayon.png"
      alt="Gray crayon, click to activate drawing"
      tabindex="0"
      aria-label="Activate crayon"
      role="button"
    />
    <!-- Mirror link (initially hidden; revealed after threshold is met) -->
    <div id="portal" tabindex="0" aria-label="Portal" class="hidden" role="button"></div>
<!-- Live region for portal emergence feedback -->
<div id="portal-announcement" aria-live="polite" style="position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;">Portal will appear when enough of the canvas is colored.</div>
    <div id="portal-preview" aria-hidden="true" class="hidden">
      <iframe id="portal-iframe" src="https://coloringwithgray.github.io/reflection/" frameborder="0" tabindex="-1" title="Portal Content Preview"></iframe>
    </div>
    <div id="portal-fullscreen" aria-hidden="true" class="hidden">
      <button id="portal-close" aria-label="Close preview">Ã—</button>
      <iframe id="portal-full-iframe" src="https://coloringwithgray.github.io/reflection/" frameborder="0" tabindex="-1" title="Portal Content Fullscreen"></iframe>
    </div>
    <script src="liquid-portal.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        new LiquidPortal({
          portalSelector: '#portal',
          previewSelector: '#portal-preview',
          fullscreenSelector: '#portal-fullscreen',
          closeSelector: '#portal-close'
        });
      });
    </script>
</div>
</div>
</body>
</html>
